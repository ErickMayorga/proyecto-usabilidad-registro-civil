<ng-container [ngSwitch]="campoOpciones.type">
  <ng-container *ngSwitchCase="'checkbox'">
    <ng-container *ngTemplateOutlet="checkbox"></ng-container>
  </ng-container>

  <ng-container *ngSwitchCase="'select'">
    <ng-container *ngTemplateOutlet="select"></ng-container>
  </ng-container>

  <ng-container *ngSwitchDefault>
    <ng-container *ngTemplateOutlet="generic"></ng-container>
  </ng-container>
</ng-container>

<ng-template #checkbox>
  <div [formGroup]="formGroup" class="mb-3">
    <div class="form-check">
      <input [id]="campoOpciones.nameField"
             name="{{campoOpciones.nameField}}"
             class="form-check-input"
             [ngClass]="obtenerMensajeAyuda(campoOpciones, formGroup).error ? 'input-error' : ''"
             [attr.aria-label]="campoOpciones.screenReaderText"
             [formControlName]="campoOpciones.nameField"
             type="checkbox">
      <label [ngClass]="obtenerMensajeAyuda(campoOpciones, formGroup).error ? 'mensaje-error' : ''"
             class="ms-3" [attr.for]="campoOpciones.nameField">
        {{campoOpciones.title}}
      </label>
    </div>
    <span class="form-text"
          [ngClass]="obtenerMensajeAyuda(campoOpciones, formGroup).error ? 'mensaje-error' : ''">
      {{obtenerMensajeAyuda(campoOpciones, formGroup).mensaje}}
    </span>
  </div>
</ng-template>

<ng-template #select>
  <div [formGroup]="formGroup" class="form-group mb-3">
    <label [ngClass]="obtenerMensajeAyuda(campoOpciones, formGroup).error ? 'mensaje-error' : ''" [attr.for]="campoOpciones.nameField">
      {{campoOpciones.title}}
    </label>
    <select [id]="campoOpciones.nameField"
            class="form-select"
            [ngClass]="obtenerMensajeAyuda(campoOpciones, formGroup).error ? 'input-error' : ''"
            [attr.aria-label]="campoOpciones.screenReaderText"
            [formControlName]="campoOpciones.nameField">
      <option *ngFor="let option of campoOpciones.opciones" value="{{option.valor}}">{{option.valor}}</option>
    </select>
    <span class="form-text"
          [ngClass]="obtenerMensajeAyuda(campoOpciones, formGroup).error ? 'mensaje-error' : ''">
      {{obtenerMensajeAyuda(campoOpciones, formGroup).mensaje}}
    </span>
  </div>
</ng-template>

<ng-template #generic>
  <div [formGroup]="formGroup" class="form-group mb-3">
    <label [ngClass]="obtenerMensajeAyuda(campoOpciones, formGroup).error ? 'mensaje-error' : ''" [attr.for]="campoOpciones.nameField">
      {{campoOpciones.title}}
    </label>
    <input [id]="campoOpciones.nameField"
          name="{{campoOpciones.nameField}}"
           class="form-control"
           [ngClass]="obtenerMensajeAyuda(campoOpciones, formGroup).error ? 'input-error' : ''"
           [attr.aria-label]="campoOpciones.screenReaderText"
           [formControlName]="campoOpciones.nameField"
           [type]="campoOpciones.type"
           [placeholder]="campoOpciones.placeholder">
    <span class="form-text"
           [ngClass]="obtenerMensajeAyuda(campoOpciones, formGroup).error ? 'mensaje-error' : ''">
      {{obtenerMensajeAyuda(campoOpciones, formGroup).mensaje}}
    </span>
  </div>
</ng-template>
